<div class="cart-container">
  <h2>Carrito de Compras</h2>
  <div class="loading-container" *ngIf="!ready">
    <img src="/assets/images/loading.gif" alt="cargando circulito pulento">
  </div>
  <div class="cart-details" *ngIf="cartDetails.length > 0; else empty">
    <table>
      <thead>
        <tr>
          <th></th>
          <th>Producto</th>
          <th>Precio</th>
          <th>Cantidad</th>
          <th>Subtotal</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of cartDetails">
          <td class="table-image"><img [appLoadImage]="item.producto.imagen" alt="producto"></td>
          <td>{{ item.producto.nombre}}</td>
          <td>{{ item.producto.precio | currency:'$': 'symbol': '1.0-0' }}</td>
          <td>{{ item.cantidad }}</td>
          <td>{{ (item.producto.precio * item.cantidad) | currency:'$': 'symbol': '1.0-0' }}</td>
          <td><button class="delete-button" (click)="deleteProduct(item.id)">Borrar</button></td>
        </tr>
      </tbody>
    </table>

    <div class="total-container">
      <div class="cart-total">
        <h3>Total: {{ totalCost | currency:'$': 'symbol': '1.0-0' }}</h3>
        <button mat-button class="pay-button"> Realizar Pago</button>
      </div>
    </div>
  </div>

  <ng-template #empty>
    <div class="empty-cart">
      <h4> El carrito está vacío </h4>
    </div>
  </ng-template>
</div>
